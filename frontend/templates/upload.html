<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
    <style>
        body {
            background-image: {{ gradient }};
        }
    </style>
</head>
<body>

    <form action="/upload" method="post" enctype="multipart/form-data">
        <div class="file-input-container">
            <label for="file" class="custom-file-upload" onclick="document.getElementById('file').click();">Browse File</label>
            <input type="file" id="file" name="file" style="display: none;">
        </div>
        <input type="submit" style="background-image: {{ button_gradient }};" value="Upload Image">
    </form>

    <div id="jsonData"></div>

    <script>
        function fetchJSON(filename) {
            fetch(filename)
                .then(response => response.json())
                .then(data => {
                    let div = document.getElementById('jsonData');

                    div.innerHTML += `<h1>${data.Title}</h1>`;
                    div.innerHTML += `<h3>${data.Objective}</h3>`;
                    div.innerHTML += `<h3>${data.Materials}</h3>`;

                    for (let key in data.Procedure) {
                        div.innerHTML += `<h3>${key}</h3>`;
                        div.innerHTML += `<h5>${data.Procedure[key]}</h5>`;
                    }

                    div.innerHTML += `<h3>${data.Assessment}</h3>`;
                });
        }

        // Call the function with the filename
        fetchJSON('lesson_0.json');
    </script>

</body>
</html>